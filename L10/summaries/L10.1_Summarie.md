Author: Samuel Solorzano Ramirez (A00354798)

Course: Software Engineering

The Pragmatic Programmer 
=====

Ch. 4 - Design by Contract
=====

Use the same concept of contract: A contract defines your rights and responsibilities, as well as those of the other party, in Software Design.

Every function and method in a software system does something. DBC  is a simple yet powerful technique that focuses on documenting (and agreeing to) the rights and responsibilities of software modules to ensure program correctness.

Meyer describes these expectations and claims as follows:

- Pre-Conditions
  -  the routine’s requirements.
- Post-Conditions
  - the state of the world when the routine is done.
- Class invariants
  - Ensures that this condition is always true from the perspective of a caller.

Use assertions every time to allow the compiler to check the contract.

For C there is Nana, a way to implement assertions and start using contracts right away.

DBC has the additional benefit of crashing early, since we assert because a pre-condition is not being met.

### Other uses of Invariants.

- Loop Invariant: 
  - is a statement of the eventual goal of a loop, but is generalized so that it is also valid before the loop executes and on each iteration through the loop.
- Semantic Invariant:
  - express inviolate requirements, a kind of “philosophical contract.” (i.e. the user of a debit card should never have the same transaction applied to their account twice)

Dead programs tell no lies
-----

If there is an error, something very, very bad has happened. Crash Early.

### Crash, Don't Trash

Detect the problems as soon as you can and crash early, to avoid potential loss of data or incorrect behavior.

Assertive Programming
-----

If It Can’t Happen, Use Assertions to Ensure That It Won’t, but be careful to Don’t use assertions in place of real error handling.

When to Use Exceptions
-----

Exceptions should be reserved for unexpected events. 

For example, if your code tries to open a file for reading and that file does not exist, should an exception be raised? Our answer is, “It depends.” If the file should have been there, then an exception is warranted. Something unexpected happened a file you were expecting to exist seems to have disappeared. On the other hand, if you have no idea whether the file should exist or not, then it doesn’t seem exceptional if you can’t find it, and an error return is appropriate.

How To Balance resources
-----

Most of the time, resource usage follows a predictable pattern: you allocate the resource, use it, and then deallocate it.

Finish What You Start, It simply means that the routine or object that allocates a resource should be responsible for deallocating it.

### Nest Allocations

There are just two more suggestions:

- Deallocate resources in the opposite order to that in which you allocate them.
- When allocating the same set of resources in different places in your code, always allocate them in the same order.

### When you can't balance resources

The trick here is to establish a semantic invariant for memory allocation. There are 3 options:

1. The top-level structure is also responsible for freeing any substructures that it contains. These structures then recursively delete data they contain, and so on.
2. The top-level structure is simply deallocated. Any structures that it pointed to (that are not referenced elsewhere) are orphaned.
3. The top-level structure refuses to deallocate itself if it contains any substructures.

### Checking the balance

Is always a good idea to build code that actually checks that resources are indeed freed appropriately.

Ch. 5 - Bend, or Break
=====

Decoupling and the Law of Demeter
-----

#### Minimize Coupling

